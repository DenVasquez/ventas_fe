import{_ as V,r as p,f as x,g as _,h,o as u,c as m,b as e,F as g,i as N,w as j,t as n,d as r,v,j as D,e as M}from"./index-0c1afda6.js";const B={class:"container py-4"},z={class:"table-responsive"},A={class:"table table-bordered table-hover mb-0"},$=["onClick"],q=["onClick"],P=["onClick"],S={class:"row g-2 mb-2"},E={class:"col-md-6"},G=["readonly"],I={class:"col-md-6"},L=["readonly"],R={class:"mb-2"},F=["readonly"],O={class:"mb-2"},T=["readonly"],J={class:"row g-2 mb-2"},H={class:"col-md-6"},K=["readonly"],Q={class:"col-md-6"},W=["readonly"],X={class:"mb-3"},Y=["disabled"],Z=["value"],ee={class:"d-flex justify-content-end"},le={key:0,type:"submit",class:"btn btn-outline-primary"},oe={__name:"UsersView",setup(se){const a=p([]),C=p(["user","admin","editor"]),s=x({id:null,firstName:"",lastName:"",email:"",phone:"",country:"",region:"",roles:[]}),d=p("new"),b=p(null),i=_(()=>d.value==="view"),w=_(()=>d.value==="new"?"Crear Usuario":d.value==="edit"?"Editar Usuario":"Ver Usuario");function c(t,l=null){d.value=t,l?(Object.assign(s,l),s.roles=Array.isArray(l.roles)?[...l.roles]:[]):Object.assign(s,{id:null,firstName:"",lastName:"",email:"",phone:"",country:"",region:"",roles:[]}),b.value.showModal()}function f(){b.value.close()}function U(){if(d.value==="new"){const t=a.value.length+1;a.value.push({id:t,...s,roles:[...s.roles]})}else if(d.value==="edit"){const t=a.value.findIndex(l=>l.id===s.id);t!==-1&&(a.value[t]={id:s.id,...s,roles:[...s.roles]})}f()}function k(t){confirm("¿Eliminar este usuario?")&&(a.value=a.value.filter(l=>l.id!==t))}return h(()=>{a.value=[{id:1,firstName:"Juan",lastName:"Pérez",email:"juan@ej.com",phone:"71234567",country:"Bolivia",region:"La Paz",roles:["user"]},{id:2,firstName:"María",lastName:"Gómez",email:"maria@ej.com",phone:"79876543",country:"Bolivia",region:"Santa Cruz",roles:["user","editor"]},{id:3,firstName:"Carlos",lastName:"Lopez",email:"carlos@ej.com",phone:"70333444",country:"Bolivia",region:"Cochabamba",roles:["admin"]}]}),(t,l)=>(u(),m("div",B,[l[21]||(l[21]=e("h2",{class:"mb-4"},"Gestión de Usuarios",-1)),e("button",{class:"btn btn-success mb-3",onClick:l[0]||(l[0]=o=>c("new"))},l[9]||(l[9]=[e("i",{class:"fa-solid fa-plus"},null,-1)])),e("div",z,[e("table",A,[l[13]||(l[13]=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"Acciones"),e("th",null,"Nombres"),e("th",null,"Apellidos"),e("th",null,"Correo"),e("th",null,"Celular"),e("th",null,"País"),e("th",null,"Departamento"),e("th",null,"Roles")])],-1)),e("tbody",null,[(u(!0),m(g,null,N(a.value,o=>(u(),m("tr",{key:o.id},[e("td",null,[e("button",{class:"btn btn-sm btn-outline-primary me-1",onClick:y=>c("view",o)},l[10]||(l[10]=[e("i",{class:"fa-solid fa-eye"},null,-1)]),8,$),e("button",{class:"btn btn-sm btn-outline-success me-1",onClick:y=>c("edit",o)},l[11]||(l[11]=[e("i",{class:"fa-solid fa-pen-to-square"},null,-1)]),8,q),e("button",{class:"btn btn-sm btn-outline-secondary",onClick:y=>k(o.id)},l[12]||(l[12]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,P)]),e("td",null,n(o.firstName),1),e("td",null,n(o.lastName),1),e("td",null,n(o.email),1),e("td",null,n(o.phone),1),e("td",null,n(o.country),1),e("td",null,n(o.region),1),e("td",null,n(o.roles.join(", ")),1)]))),128))])])]),e("dialog",{ref_key:"userDialog",ref:b,class:"p-0 border-0"},[e("form",{onSubmit:j(U,["prevent"]),class:"p-3"},[e("h5",null,n(w.value),1),e("div",S,[e("div",E,[l[14]||(l[14]=e("label",null,"Nombres",-1)),r(e("input",{"onUpdate:modelValue":l[1]||(l[1]=o=>s.firstName=o),type:"text",class:"form-control",readonly:i.value,required:""},null,8,G),[[v,s.firstName]])]),e("div",I,[l[15]||(l[15]=e("label",null,"Apellidos",-1)),r(e("input",{"onUpdate:modelValue":l[2]||(l[2]=o=>s.lastName=o),type:"text",class:"form-control",readonly:i.value,required:""},null,8,L),[[v,s.lastName]])])]),e("div",R,[l[16]||(l[16]=e("label",null,"Correo",-1)),r(e("input",{"onUpdate:modelValue":l[3]||(l[3]=o=>s.email=o),type:"email",class:"form-control",readonly:i.value,required:""},null,8,F),[[v,s.email]])]),e("div",O,[l[17]||(l[17]=e("label",null,"Celular",-1)),r(e("input",{"onUpdate:modelValue":l[4]||(l[4]=o=>s.phone=o),type:"text",class:"form-control",readonly:i.value},null,8,T),[[v,s.phone]])]),e("div",J,[e("div",H,[l[18]||(l[18]=e("label",null,"País",-1)),r(e("input",{"onUpdate:modelValue":l[5]||(l[5]=o=>s.country=o),type:"text",class:"form-control",readonly:i.value},null,8,K),[[v,s.country]])]),e("div",Q,[l[19]||(l[19]=e("label",null,"Departamento",-1)),r(e("input",{"onUpdate:modelValue":l[6]||(l[6]=o=>s.region=o),type:"text",class:"form-control",readonly:i.value},null,8,W),[[v,s.region]])])]),e("div",X,[l[20]||(l[20]=e("label",null,"Roles",-1)),r(e("select",{"onUpdate:modelValue":l[7]||(l[7]=o=>s.roles=o),class:"form-select",multiple:"",disabled:i.value},[(u(!0),m(g,null,N(C.value,o=>(u(),m("option",{key:o,value:o},n(o),9,Z))),128))],8,Y),[[D,s.roles]])]),e("div",ee,[e("button",{type:"button",class:"btn btn-secondary me-2",onClick:l[8]||(l[8]=o=>f())},"Cerrar"),i.value?M("",!0):(u(),m("button",le,"Guardar"))])],32)],512)]))}},ne=V(oe,[["__scopeId","data-v-f7927092"]]);export{ne as default};
